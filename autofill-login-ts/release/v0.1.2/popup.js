(()=>{async function n(){try{!function(n){const e=document.getElementById("credentials-list");if(!e)return;if(0===n.length)return void(e.innerHTML='<p style="text-align: center; color: #888; font-size: 12px;">Brak danych testowych</p>');const t=n[0];e.innerHTML=`\n    <div class="credential-item">\n      <div class="credential-website">Dane testowe (dla wszystkich stron)</div>\n      <div class="credential-username">Login: ${t.username}</div>\n      <div class="credential-password">Hasło: ${t.password}</div>\n    </div>\n  `}((await chrome.runtime.sendMessage({action:"getCredentials"})).credentials||[])}catch(n){console.error("Error loading credentials:",n)}}function e(){const n=document.getElementById("autoFillToggle");n&&(chrome.storage.local.get(["autoFillEnabled"]).then(e=>{n.checked=!1!==e.autoFillEnabled}),n.addEventListener("change",()=>{chrome.storage.local.set({autoFillEnabled:n.checked})}))}function t(){const n=document.getElementById("manage-passwords");n&&n.addEventListener("click",()=>{!function(){const n=document.createElement("div");n.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0,0,0,0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10000;\n    ">\n      <div style="\n        background: white;\n        padding: 24px;\n        border-radius: 8px;\n        text-align: center;\n        max-width: 300px;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n      ">\n        <h3 style="margin: 0 0 12px 0; color: #4285f4;"> Funkcja w budowie</h3>\n        <p style="margin: 0 0 20px 0; color: #666; line-height: 1.4;">\n          Panel zarządzania hasłami będzie dostępny w kolejnej wersji rozszerzenia.\n        </p>\n        <button style="\n          background: #4285f4;\n          color: white;\n          border: none;\n          padding: 10px 20px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 13px;\n        " onclick="this.parentElement.parentElement.remove()">\n          Zamknij\n        </button>\n      </div>\n    </div>\n  ',document.body.appendChild(n),n.addEventListener("click",e=>{e.target===n&&n.remove()})}()})}document.addEventListener("DOMContentLoaded",async()=>{console.log("Popup loaded");const i=await async function(){try{return chrome.runtime.getManifest().version}catch(n){return"0.2.0"}}(),o=document.getElementById("version-info");o&&(o.textContent=`Version ${i} (Alpha)`),await n(),e(),t()}),document.addEventListener("DOMContentLoaded",async()=>{await n(),e(),t()})})();